<section class="dashboard" *ngIf="!isLoading && data">
  <h2>ğŸ“Š Dashboard del Consultor Financiero</h2>

  <div class="kpi-container">
    <div class="kpi-card" [ngStyle]="{ 'background-color': kpiColors.promedio }">
      <div class="kpi-icon">â­</div>
      <div>
        <p class="kpi-title">Promedio</p>
        <p class="kpi-value">{{ data.promedioCalificacion | number:'1.1-2' }}/5</p>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-icon">ğŸ’¬</div>
      <div>
        <p class="kpi-title">ReseÃ±as</p>
        <p class="kpi-value">{{ data.totalResenas }}</p>
      </div>
    </div>

    <div class="kpi-card">
      <div class="kpi-icon">ğŸ“</div>
      <div>
        <p class="kpi-title">Casos</p>
        <p class="kpi-value">{{ data.totalCasos }}</p>
      </div>
    </div>

    <div class="kpi-card" [ngStyle]="{ 'background-color': kpiColors.satisfaccion }">
      <div class="kpi-icon">ğŸ˜Š</div>
      <div>
        <p class="kpi-title">SatisfacciÃ³n</p>
        <p class="kpi-value">{{ data.satisfaccion | number:'1.0-0' }}%</p>
      </div>
    </div>
  </div>

  <div class="motivation">
    <div class="animated-icon">{{ animationIcon }}</div>
    <p>{{ motivationalMessage }}</p>
  </div>

  <div class="chart-grid">
    <div class="section">
      <h3>ğŸ“ˆ Casos asesorados por mes</h3>
      <div class="chart-wrapper">
        <canvas baseChart [data]="barChartData" [options]="barChartOptions" [type]="'bar'"></canvas>
      </div>
    </div>

    <div class="section">
      <h3>ğŸ¥§ DistribuciÃ³n de Calificaciones</h3>
      <div class="chart-wrapper">
        <canvas baseChart [data]="pieChartData" [options]="pieChartOptions" [type]="'pie'"></canvas>
      </div>
    </div>
  </div>

  <div class="section">
    <h3>ğŸ“ Ãšltimas reseÃ±as</h3>
    <ul>
      <li *ngFor="let r of data.ultimasResenas">
        <p>â­ {{ r.rating }} / 5</p>
        <p>{{ r.comment }}</p>
        <small>Consultor: {{ r.consultantName }}</small>
      </li>
    </ul>
  </div>
</section>